{
  "openapi": "3.1.0",
  "info": {
    "title": "GTS Server",
    "version": "0.1.0"
  },
  "paths": {
    "/entities": {
      "get": {
        "summary": "Get all entities in the registry",
        "operationId": "get_entities_entities_get",
        "parameters": [
          {
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000.0,
              "minimum": 1.0,
              "title": "Limit",
              "default": 100
            },
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Entities Entities Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Register a single entity (object or schema)",
        "operationId": "add_entity_entities_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/entities/bulk": {
      "post": {
        "summary": "Register multiple entities",
        "operationId": "add_entities_entities_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "object"
                },
                "type": "array",
                "title": "Body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/schemas": {
      "post": {
        "summary": "Register schema by explicit type_id",
        "operationId": "add_schema_schemas_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/SchemaRegister"
                  }
                ],
                "title": "Body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/validate-id": {
      "get": {
        "summary": "Validate GTS identifier",
        "operationId": "validate_id_validate_id_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Gts Id"
            },
            "name": "gts_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Validate Id Validate Id Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/extract-id": {
      "post": {
        "summary": "Extract GTS ID and schema ID from JSON content",
        "operationId": "extract_id_extract_id_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Extract Id Extract Id Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/parse-id": {
      "get": {
        "summary": "Parse GTS identifier",
        "operationId": "parse_parse_id_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Gts Id"
            },
            "name": "gts_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Parse Parse Id Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/match-id-pattern": {
      "get": {
        "summary": "Match candidate against wildcard pattern",
        "operationId": "match_id_pattern_match_id_pattern_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Candidate"
            },
            "name": "candidate",
            "in": "query"
          },
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Pattern"
            },
            "name": "pattern",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Match Id Pattern Match Id Pattern Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/uuid": {
      "get": {
        "summary": "Map GTS ID to UUID",
        "operationId": "id_to_uuid_uuid_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Gts Id"
            },
            "name": "gts_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Id To Uuid Uuid Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/validate-instance": {
      "post": {
        "summary": "Validate instance by GTS ID",
        "operationId": "validate_instance_validate_instance_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/ValidateInstanceRequest"
                  }
                ],
                "title": "Body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Validate Instance Validate Instance Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/resolve-relationships": {
      "get": {
        "summary": "Build schema/entity graph for a GTS ID",
        "operationId": "schema_graph_resolve_relationships_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Gts Id"
            },
            "name": "gts_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Schema Graph Resolve Relationships Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/compatibility": {
      "get": {
        "summary": "Check minor version compatibility",
        "operationId": "compatibility_compatibility_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Old Schema Id"
            },
            "name": "old_schema_id",
            "in": "query"
          },
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "New Schema Id"
            },
            "name": "new_schema_id",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Compatibility Compatibility Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/cast": {
      "post": {
        "summary": "Cast instance to target schema",
        "operationId": "cast_cast_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/CastRequest"
                  }
                ],
                "title": "Body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Cast Cast Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/query": {
      "get": {
        "summary": "Execute GTS query over loaded entities",
        "operationId": "query_query_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Expr"
            },
            "name": "expr",
            "in": "query"
          },
          {
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000.0,
              "minimum": 1.0,
              "title": "Limit",
              "default": 100
            },
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Query Query Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/attr": {
      "get": {
        "summary": "Resolve attribute path via '@' selector",
        "operationId": "attr_attr_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "type": "string",
              "title": "Gts With Path"
            },
            "name": "gts_with_path",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Attr Attr Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "CastRequest": {
        "properties": {
          "instance_id": {
            "type": "string",
            "title": "Instance Id"
          },
          "to_schema_id": {
            "type": "string",
            "title": "To Schema Id"
          }
        },
        "type": "object",
        "required": [
          "instance_id",
          "to_schema_id"
        ],
        "title": "CastRequest"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "SchemaRegister": {
        "properties": {
          "type_id": {
            "type": "string",
            "title": "Type Id"
          },
          "schema": {
            "type": "object",
            "title": "Schema"
          }
        },
        "type": "object",
        "required": [
          "type_id",
          "schema"
        ],
        "title": "SchemaRegister"
      },
      "ValidateInstanceRequest": {
        "properties": {
          "instance_id": {
            "type": "string",
            "title": "Instance Id"
          }
        },
        "type": "object",
        "required": [
          "instance_id"
        ],
        "title": "ValidateInstanceRequest"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}
